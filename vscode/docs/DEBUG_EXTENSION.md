# VSCode æ‰©å±•è°ƒè¯•æŒ‡å—

æœ¬æŒ‡å—è¯¦ç»†è¯´æ˜å¦‚ä½•è°ƒè¯• Spring LSP çš„ VSCode æ‰©å±•ã€‚

## ç›®å½•

- [å‰ç½®è¦æ±‚](#å‰ç½®è¦æ±‚)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [è°ƒè¯•é…ç½®è¯´æ˜](#è°ƒè¯•é…ç½®è¯´æ˜)
- [è°ƒè¯•æ­¥éª¤](#è°ƒè¯•æ­¥éª¤)
- [å¸¸è§è°ƒè¯•åœºæ™¯](#å¸¸è§è°ƒè¯•åœºæ™¯)
- [è°ƒè¯•æŠ€å·§](#è°ƒè¯•æŠ€å·§)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

## å‰ç½®è¦æ±‚

### å¿…éœ€å·¥å…·

1. **Node.js** (v18+)
   ```bash
   node --version  # åº”è¯¥ >= 18.0.0
   ```

2. **npm** (v9+)
   ```bash
   npm --version  # åº”è¯¥ >= 9.0.0
   ```

3. **VSCode** (v1.75+)
   ```bash
   code --version  # åº”è¯¥ >= 1.75.0
   ```

4. **TypeScript** (v5.0+)
   ```bash
   npx tsc --version  # åº”è¯¥ >= 5.0.0
   ```

### å¯é€‰å·¥å…·

- **Rust** (v1.70+) - å¦‚æœéœ€è¦åŒæ—¶è°ƒè¯•è¯­è¨€æœåŠ¡å™¨
- **CodeLLDB** æ‰©å±• - ç”¨äºè°ƒè¯• Rust ä»£ç 

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd spring-lsp/vscode
npm install
```

### 2. ç¼–è¯‘ TypeScript

```bash
# ä¸€æ¬¡æ€§ç¼–è¯‘
npm run compile

# æˆ–è€…å¯åŠ¨ç›‘å¬æ¨¡å¼ï¼ˆæ¨èï¼‰
npm run watch
```

### 3. å¯åŠ¨è°ƒè¯•

åœ¨ VSCode ä¸­ï¼š
1. æ‰“å¼€ `spring-lsp/vscode` ç›®å½•
2. æŒ‰ `F5` æˆ–ç‚¹å‡» "Run and Debug" é¢æ¿çš„ç»¿è‰²æ’­æ”¾æŒ‰é’®
3. é€‰æ‹© "Run Extension" é…ç½®
4. æ–°çš„ VSCode çª—å£ï¼ˆExtension Development Hostï¼‰ä¼šæ‰“å¼€

### 4. æµ‹è¯•æ‰©å±•

åœ¨æ–°æ‰“å¼€çš„çª—å£ä¸­ï¼š
1. æ‰“å¼€ä¸€ä¸ª spring-rs é¡¹ç›®
2. æŸ¥çœ‹ "Spring RS" ä¾§è¾¹æ 
3. æµ‹è¯•å„ç§åŠŸèƒ½ï¼ˆåº”ç”¨ç®¡ç†ã€é…ç½®è¡¥å…¨ç­‰ï¼‰

## è°ƒè¯•é…ç½®è¯´æ˜

### é…ç½® 1: Run Extension

**ç”¨é€”**: è°ƒè¯•æ‰©å±•çš„åŸºæœ¬åŠŸèƒ½

```json
{
  "name": "Run Extension",
  "type": "extensionHost",
  "request": "launch",
  "args": [
    "--extensionDevelopmentPath=${workspaceFolder}"
  ],
  "outFiles": [
    "${workspaceFolder}/out/**/*.js"
  ],
  "preLaunchTask": "${defaultBuildTask}"
}
```

**ç‰¹ç‚¹**:
- è‡ªåŠ¨ç¼–è¯‘ TypeScriptï¼ˆé€šè¿‡ `preLaunchTask`ï¼‰
- åœ¨ç©ºç™½å·¥ä½œç©ºé—´ä¸­å¯åŠ¨
- é€‚åˆæµ‹è¯•æ‰©å±•çš„åŸºæœ¬åŠŸèƒ½

**ä½¿ç”¨åœºæ™¯**:
- æµ‹è¯•æ‰©å±•æ¿€æ´»é€»è¾‘
- æµ‹è¯•å‘½ä»¤æ³¨å†Œ
- æµ‹è¯•è§†å›¾åˆ›å»º

### é…ç½® 2: Run Extension (with test project)

**ç”¨é€”**: åœ¨ç‰¹å®šé¡¹ç›®ä¸­è°ƒè¯•æ‰©å±•

```json
{
  "name": "Run Extension (with test project)",
  "type": "extensionHost",
  "request": "launch",
  "args": [
    "--extensionDevelopmentPath=${workspaceFolder}",
    "/Users/holmofy/rust/autowds/autowds-backend"  // æµ‹è¯•é¡¹ç›®è·¯å¾„
  ],
  "outFiles": [
    "${workspaceFolder}/out/**/*.js"
  ],
  "preLaunchTask": "${defaultBuildTask}"
}
```

**ç‰¹ç‚¹**:
- è‡ªåŠ¨æ‰“å¼€æŒ‡å®šçš„æµ‹è¯•é¡¹ç›®
- é€‚åˆæµ‹è¯•æ‰©å±•åœ¨çœŸå®é¡¹ç›®ä¸­çš„è¡Œä¸º

**ä½¿ç”¨åœºæ™¯**:
- æµ‹è¯•åº”ç”¨æ£€æµ‹é€»è¾‘
- æµ‹è¯•é…ç½®æ–‡ä»¶è§£æ
- æµ‹è¯•è·¯ç”±å’Œç»„ä»¶åˆ†æ

**é…ç½®æ–¹æ³•**:
1. ä¿®æ”¹ `args` æ•°ç»„ä¸­çš„è·¯å¾„ä¸ºä½ çš„æµ‹è¯•é¡¹ç›®è·¯å¾„
2. æˆ–è€…åˆ›å»ºå¤šä¸ªé…ç½®ï¼Œæ¯ä¸ªå¯¹åº”ä¸åŒçš„æµ‹è¯•é¡¹ç›®

### é…ç½® 3: Extension Tests

**ç”¨é€”**: è¿è¡Œæ‰©å±•çš„è‡ªåŠ¨åŒ–æµ‹è¯•

```json
{
  "name": "Extension Tests",
  "type": "extensionHost",
  "request": "launch",
  "args": [
    "--extensionDevelopmentPath=${workspaceFolder}",
    "--extensionTestsPath=${workspaceFolder}/out/test/suite/index"
  ],
  "outFiles": [
    "${workspaceFolder}/out/test/**/*.js"
  ],
  "preLaunchTask": "${defaultBuildTask}"
}
```

**ç‰¹ç‚¹**:
- è¿è¡Œ `test/suite/` ç›®å½•ä¸‹çš„æ‰€æœ‰æµ‹è¯•
- è‡ªåŠ¨ç¼–è¯‘æµ‹è¯•ä»£ç 

**ä½¿ç”¨åœºæ™¯**:
- è¿è¡Œå•å…ƒæµ‹è¯•
- è¿è¡Œé›†æˆæµ‹è¯•
- è°ƒè¯•æµ‹è¯•å¤±è´¥

## è°ƒè¯•æ­¥éª¤

### æ–¹æ³• 1: ä½¿ç”¨ F5 å¿«æ·é”®ï¼ˆæ¨èï¼‰

1. **æ‰“å¼€æ‰©å±•é¡¹ç›®**
   ```bash
   cd spring-lsp/vscode
   code .
   ```

2. **å¯åŠ¨ç›‘å¬æ¨¡å¼**ï¼ˆå¯é€‰ä½†æ¨èï¼‰
   ```bash
   npm run watch
   ```
   è¿™æ ·ä¿®æ”¹ä»£ç åä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘ã€‚

3. **æŒ‰ F5 å¯åŠ¨è°ƒè¯•**
   - VSCode ä¼šè‡ªåŠ¨è¿è¡Œ `preLaunchTask`ï¼ˆç¼–è¯‘ TypeScriptï¼‰
   - æ–°çª—å£ä¼šæ‰“å¼€ï¼ˆExtension Development Hostï¼‰

4. **è®¾ç½®æ–­ç‚¹**
   - åœ¨ `src/extension.ts` æˆ–å…¶ä»–æ–‡ä»¶ä¸­ç‚¹å‡»è¡Œå·å·¦ä¾§è®¾ç½®æ–­ç‚¹
   - çº¢ç‚¹è¡¨ç¤ºæ–­ç‚¹å·²è®¾ç½®

5. **è§¦å‘æ–­ç‚¹**
   - åœ¨æ–°çª—å£ä¸­æ‰§è¡Œç›¸å…³æ“ä½œ
   - è°ƒè¯•å™¨ä¼šåœ¨æ–­ç‚¹å¤„æš‚åœ

6. **æŸ¥çœ‹å˜é‡å’Œè°ƒç”¨æ ˆ**
   - å·¦ä¾§é¢æ¿æ˜¾ç¤ºå˜é‡ã€ç›‘è§†ã€è°ƒç”¨æ ˆç­‰ä¿¡æ¯
   - å¯ä»¥åœ¨ "Debug Console" ä¸­æ‰§è¡Œè¡¨è¾¾å¼

### æ–¹æ³• 2: ä½¿ç”¨è°ƒè¯•é¢æ¿

1. **æ‰“å¼€è°ƒè¯•é¢æ¿**
   - ç‚¹å‡»å·¦ä¾§çš„ "Run and Debug" å›¾æ ‡
   - æˆ–æŒ‰ `Ctrl+Shift+D` (Windows/Linux) / `Cmd+Shift+D` (macOS)

2. **é€‰æ‹©è°ƒè¯•é…ç½®**
   - åœ¨é¡¶éƒ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©é…ç½®ï¼ˆå¦‚ "Run Extension"ï¼‰

3. **ç‚¹å‡»ç»¿è‰²æ’­æ”¾æŒ‰é’®**
   - æˆ–æŒ‰ `F5`

4. **å¼€å§‹è°ƒè¯•**
   - æŒ‰ç…§æ–¹æ³• 1 çš„æ­¥éª¤ 4-6 ç»§ç»­

### æ–¹æ³• 3: ä½¿ç”¨å‘½ä»¤é¢æ¿

1. **æ‰“å¼€å‘½ä»¤é¢æ¿**
   - æŒ‰ `Ctrl+Shift+P` (Windows/Linux) / `Cmd+Shift+P` (macOS)

2. **è¾“å…¥å¹¶é€‰æ‹©**
   ```
   Debug: Select and Start Debugging
   ```

3. **é€‰æ‹©é…ç½®**
   - é€‰æ‹© "Run Extension" æˆ–å…¶ä»–é…ç½®

4. **å¼€å§‹è°ƒè¯•**

## å¸¸è§è°ƒè¯•åœºæ™¯

### åœºæ™¯ 1: è°ƒè¯•æ‰©å±•æ¿€æ´»

**ç›®æ ‡**: ç¡®ä¿æ‰©å±•åœ¨æ­£ç¡®çš„æ—¶æœºæ¿€æ´»

**æ­¥éª¤**:
1. åœ¨ `src/extension.ts` çš„ `activate()` å‡½æ•°å¼€å¤´è®¾ç½®æ–­ç‚¹
   ```typescript
   export async function activate(context: vscode.ExtensionContext): Promise<void> {
     console.log('Spring LSP extension is now activating...');  // åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹
     // ...
   }
   ```

2. æŒ‰ `F5` å¯åŠ¨è°ƒè¯•

3. åœ¨æ–°çª—å£ä¸­æ‰“å¼€ä¸€ä¸ª spring-rs é¡¹ç›®

4. æ–­ç‚¹åº”è¯¥è¢«è§¦å‘

**æ£€æŸ¥ç‚¹**:
- `context` å¯¹è±¡æ˜¯å¦æ­£ç¡®
- `activationEvents` æ˜¯å¦æŒ‰é¢„æœŸè§¦å‘
- æ‰©å±•æ˜¯å¦åœ¨æ­£ç¡®çš„æ—¶æœºæ¿€æ´»

### åœºæ™¯ 2: è°ƒè¯•åº”ç”¨æ£€æµ‹

**ç›®æ ‡**: ç¡®ä¿æ‰©å±•èƒ½æ­£ç¡®æ£€æµ‹ spring-rs åº”ç”¨

**æ­¥éª¤**:
1. åœ¨ `src/controllers/LocalAppManager.ts` çš„ `scanWorkspace()` æ–¹æ³•è®¾ç½®æ–­ç‚¹
   ```typescript
   private async scanWorkspace() {
     const cargoFiles = await vscode.workspace.findFiles(  // åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹
       '**/Cargo.toml',
       '**/target/**'
     );
     // ...
   }
   ```

2. ä½¿ç”¨ "Run Extension (with test project)" é…ç½®å¯åŠ¨è°ƒè¯•

3. è§‚å¯Ÿ `cargoFiles` å˜é‡çš„å€¼

4. å•æ­¥æ‰§è¡Œï¼ŒæŸ¥çœ‹åº”ç”¨æ£€æµ‹é€»è¾‘

**æ£€æŸ¥ç‚¹**:
- `Cargo.toml` æ–‡ä»¶æ˜¯å¦è¢«æ­£ç¡®æ‰¾åˆ°
- ä¾èµ–è§£ææ˜¯å¦æ­£ç¡®
- åº”ç”¨æ˜¯å¦è¢«æ­£ç¡®è¯†åˆ«ä¸º spring-rs åº”ç”¨

### åœºæ™¯ 3: è°ƒè¯•å‘½ä»¤æ‰§è¡Œ

**ç›®æ ‡**: è°ƒè¯•åº”ç”¨å¯åŠ¨/åœæ­¢ç­‰å‘½ä»¤

**æ­¥éª¤**:
1. åœ¨ `src/controllers/LocalAppController.ts` çš„ `runApp()` æ–¹æ³•è®¾ç½®æ–­ç‚¹
   ```typescript
   public async runApp(app: SpringApp, debug: boolean = false, profile?: string) {
     if (app.state !== AppState.INACTIVE) {  // åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹
       // ...
     }
     // ...
   }
   ```

2. å¯åŠ¨è°ƒè¯•

3. åœ¨æ–°çª—å£çš„ "Spring RS" ä¾§è¾¹æ ä¸­ç‚¹å‡»åº”ç”¨çš„ "Run" æŒ‰é’®

4. æ–­ç‚¹è¢«è§¦å‘

**æ£€æŸ¥ç‚¹**:
- `app` å¯¹è±¡çš„çŠ¶æ€æ˜¯å¦æ­£ç¡®
- è°ƒè¯•é…ç½®æ˜¯å¦æ­£ç¡®ç”Ÿæˆ
- å¯åŠ¨å‘½ä»¤æ˜¯å¦æ­£ç¡®æ‰§è¡Œ

### åœºæ™¯ 4: è°ƒè¯• LSP é€šä¿¡

**ç›®æ ‡**: è°ƒè¯•æ‰©å±•ä¸è¯­è¨€æœåŠ¡å™¨çš„é€šä¿¡

**æ­¥éª¤**:
1. åœ¨ `src/languageClient/LanguageClientManager.ts` è®¾ç½®æ–­ç‚¹
   ```typescript
   public async sendRequest<T>(method: string, params: any): Promise<T | undefined> {
     if (!this.client) {  // åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹
       return undefined;
     }
     // ...
   }
   ```

2. å¯åŠ¨è°ƒè¯•

3. è§¦å‘éœ€è¦ LSP é€šä¿¡çš„æ“ä½œï¼ˆå¦‚åˆ·æ–°ç»„ä»¶è§†å›¾ï¼‰

4. è§‚å¯Ÿè¯·æ±‚å’Œå“åº”

**æ£€æŸ¥ç‚¹**:
- LSP å®¢æˆ·ç«¯æ˜¯å¦å·²å¯åŠ¨
- è¯·æ±‚å‚æ•°æ˜¯å¦æ­£ç¡®
- å“åº”æ•°æ®æ˜¯å¦ç¬¦åˆé¢„æœŸ

**é¢å¤–æŠ€å·§**:
- åœ¨ `settings.json` ä¸­å¯ç”¨ LSP è¿½è¸ªï¼š
  ```json
  {
    "spring-rs.trace.server": "verbose"
  }
  ```
- æŸ¥çœ‹ "Output" é¢æ¿çš„ "Spring LSP (Language Server)" é€šé“

### åœºæ™¯ 5: è°ƒè¯•è§†å›¾åˆ·æ–°

**ç›®æ ‡**: ç¡®ä¿è§†å›¾åœ¨æ­£ç¡®çš„æ—¶æœºåˆ·æ–°

**æ­¥éª¤**:
1. åœ¨ `src/views/ComponentsTreeDataProvider.ts` è®¾ç½®æ–­ç‚¹
   ```typescript
   public async refresh(app: SpringApp): Promise<void> {
     console.log(`Refreshing components for app: ${app.name}`);  // åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹
     // ...
   }
   ```

2. å¯åŠ¨è°ƒè¯•

3. åœ¨æ–°çª—å£ä¸­é€‰æ‹©ä¸€ä¸ªåº”ç”¨

4. è§‚å¯Ÿåˆ·æ–°é€»è¾‘

**æ£€æŸ¥ç‚¹**:
- `app` å‚æ•°æ˜¯å¦æ­£ç¡®
- LSP è¯·æ±‚æ˜¯å¦æˆåŠŸ
- æ ‘è§†å›¾æ˜¯å¦æ­£ç¡®æ›´æ–°

### åœºæ™¯ 6: è°ƒè¯•é…ç½®æ–‡ä»¶è§£æ

**ç›®æ ‡**: è°ƒè¯• TOML é…ç½®æ–‡ä»¶çš„è§£æ

**æ­¥éª¤**:
1. åœ¨ `src/controllers/LocalAppManager.ts` çš„ `parseCargoToml()` æ–¹æ³•è®¾ç½®æ–­ç‚¹
   ```typescript
   private async parseCargoToml(file: vscode.Uri): Promise<SpringApp | null> {
     try {
       const content = await vscode.workspace.fs.readFile(file);  // åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹
       // ...
     }
   }
   ```

2. å¯åŠ¨è°ƒè¯•

3. æ‰“å¼€æˆ–ä¿®æ”¹ `Cargo.toml` æ–‡ä»¶

4. è§‚å¯Ÿè§£æè¿‡ç¨‹

**æ£€æŸ¥ç‚¹**:
- æ–‡ä»¶å†…å®¹æ˜¯å¦æ­£ç¡®è¯»å–
- TOML è§£ææ˜¯å¦æˆåŠŸ
- ä¾èµ–æå–æ˜¯å¦æ­£ç¡®

## è°ƒè¯•æŠ€å·§

### 1. ä½¿ç”¨ Console è¾“å‡º

åœ¨ä»£ç ä¸­æ·»åŠ  `console.log()` è¯­å¥ï¼š

```typescript
console.log('App detected:', app);
console.log('Components:', components);
console.error('Failed to start app:', error);
```

æŸ¥çœ‹è¾“å‡ºï¼š
- **å¼€å‘çª—å£**: æŒ‰ `Ctrl+Shift+I` æ‰“å¼€å¼€å‘è€…å·¥å…·
- **æ‰©å±•å®¿ä¸»çª—å£**: åœ¨ "Help" -> "Toggle Developer Tools"

### 2. ä½¿ç”¨ Output Channel

åˆ›å»ºè¾“å‡ºé€šé“ï¼š

```typescript
const outputChannel = vscode.window.createOutputChannel('Spring LSP');
outputChannel.appendLine('Extension activated');
outputChannel.show();
```

æŸ¥çœ‹è¾“å‡ºï¼š
- "View" -> "Output"
- é€‰æ‹© "Spring LSP" é€šé“

### 3. ä½¿ç”¨æ¡ä»¶æ–­ç‚¹

å³é”®ç‚¹å‡»æ–­ç‚¹ï¼Œé€‰æ‹© "Edit Breakpoint"ï¼š

```typescript
// åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹æš‚åœ
app.name === 'my-app'

// åªåœ¨ç‰¹å®šæ¬¡æ•°åæš‚åœ
hitCount > 5
```

### 4. ä½¿ç”¨æ—¥å¿—ç‚¹ï¼ˆLogpointï¼‰

å³é”®ç‚¹å‡»è¡Œå·ï¼Œé€‰æ‹© "Add Logpoint"ï¼š

```typescript
// ä¸æš‚åœæ‰§è¡Œï¼Œåªè¾“å‡ºæ—¥å¿—
App name: {app.name}, state: {app.state}
```

### 5. ä½¿ç”¨ç›‘è§†è¡¨è¾¾å¼

åœ¨ "Watch" é¢æ¿æ·»åŠ è¡¨è¾¾å¼ï¼š

```typescript
app.state
app.dependencies.length
this.apps.size
```

### 6. ä½¿ç”¨è°ƒç”¨æ ˆ

åœ¨ "Call Stack" é¢æ¿ï¼š
- æŸ¥çœ‹å‡½æ•°è°ƒç”¨é“¾
- ç‚¹å‡»æ ˆå¸§è·³è½¬åˆ°å¯¹åº”ä»£ç 
- æŸ¥çœ‹æ¯ä¸ªæ ˆå¸§çš„å˜é‡

### 7. ä½¿ç”¨ Debug Console

åœ¨ "Debug Console" ä¸­æ‰§è¡Œè¡¨è¾¾å¼ï¼š

```typescript
// æŸ¥çœ‹å˜é‡
app

// è°ƒç”¨æ–¹æ³•
app.reset()

// æ‰§è¡Œå¤æ‚è¡¨è¾¾å¼
this.apps.values().filter(a => a.state === 'running')
```

### 8. çƒ­é‡è½½ï¼ˆHot Reloadï¼‰

ä¿®æ”¹ä»£ç åï¼š
1. ä¿å­˜æ–‡ä»¶ï¼ˆ`Ctrl+S`ï¼‰
2. åœ¨è°ƒè¯•å·¥å…·æ ç‚¹å‡» "Restart" æŒ‰é’®ï¼ˆç»¿è‰²åœ†å½¢ç®­å¤´ï¼‰
3. æˆ–æŒ‰ `Ctrl+Shift+F5`

**æ³¨æ„**: éœ€è¦å…ˆå¯åŠ¨ `npm run watch` æ‰èƒ½è‡ªåŠ¨ç¼–è¯‘ã€‚

### 9. ä½¿ç”¨ Source Maps

ç¡®ä¿ `tsconfig.json` ä¸­å¯ç”¨äº† source mapsï¼š

```json
{
  "compilerOptions": {
    "sourceMap": true
  }
}
```

è¿™æ ·å¯ä»¥åœ¨ TypeScript æºç ä¸­è®¾ç½®æ–­ç‚¹ï¼Œè€Œä¸æ˜¯ç¼–è¯‘åçš„ JavaScriptã€‚

### 10. è°ƒè¯•å¤šä¸ªè¿›ç¨‹

å¦‚æœéœ€è¦åŒæ—¶è°ƒè¯•æ‰©å±•å’Œè¯­è¨€æœåŠ¡å™¨ï¼š

1. å¯åŠ¨æ‰©å±•è°ƒè¯•ï¼ˆF5ï¼‰
2. åœ¨æ‰©å±•å®¿ä¸»çª—å£ä¸­ï¼Œæ‰“å¼€ spring-rs é¡¹ç›®
3. åœ¨ä¸» VSCode çª—å£ä¸­ï¼Œåˆ‡æ¢åˆ° Rust é¡¹ç›®ç›®å½•
4. ä½¿ç”¨ "Attach to LSP Server" é…ç½®é™„åŠ åˆ°è¯­è¨€æœåŠ¡å™¨è¿›ç¨‹

## å¸¸è§é—®é¢˜

### Q1: æŒ‰ F5 åæ²¡æœ‰ååº”

**å¯èƒ½åŸå› **:
- TypeScript ç¼–è¯‘å¤±è´¥
- æ²¡æœ‰é€‰æ‹©æ­£ç¡®çš„è°ƒè¯•é…ç½®

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥ "Problems" é¢æ¿æ˜¯å¦æœ‰ç¼–è¯‘é”™è¯¯
2. æ‰‹åŠ¨è¿è¡Œ `npm run compile` æŸ¥çœ‹é”™è¯¯
3. ç¡®ä¿åœ¨ "Run and Debug" é¢æ¿é€‰æ‹©äº†æ­£ç¡®çš„é…ç½®

### Q2: æ–­ç‚¹æ˜¾ç¤ºç°è‰²ï¼ˆæœªç»‘å®šï¼‰

**å¯èƒ½åŸå› **:
- Source maps æœªæ­£ç¡®ç”Ÿæˆ
- æ–‡ä»¶è·¯å¾„ä¸åŒ¹é…

**è§£å†³æ–¹æ³•**:
1. ç¡®ä¿ `tsconfig.json` ä¸­ `sourceMap: true`
2. é‡æ–°ç¼–è¯‘ï¼š`npm run compile`
3. é‡å¯è°ƒè¯•ä¼šè¯

### Q3: æ‰©å±•æœªæ¿€æ´»

**å¯èƒ½åŸå› **:
- `activationEvents` é…ç½®ä¸æ­£ç¡®
- å·¥ä½œç©ºé—´ä¸æ»¡è¶³æ¿€æ´»æ¡ä»¶

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥ `package.json` ä¸­çš„ `activationEvents`
2. ç¡®ä¿æµ‹è¯•é¡¹ç›®åŒ…å« `Cargo.toml` æˆ– `.spring-lsp.toml`
3. æ‰‹åŠ¨è§¦å‘æ¿€æ´»ï¼šåœ¨å‘½ä»¤é¢æ¿æ‰§è¡Œæ‰©å±•çš„å‘½ä»¤

### Q4: è¯­è¨€æœåŠ¡å™¨æœªå¯åŠ¨

**å¯èƒ½åŸå› **:
- æœåŠ¡å™¨è·¯å¾„é…ç½®ä¸æ­£ç¡®
- æœåŠ¡å™¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸å­˜åœ¨

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥ `spring-rs.serverPath` é…ç½®
2. ç¡®ä¿è¯­è¨€æœåŠ¡å™¨å·²ç¼–è¯‘ï¼š
   ```bash
   cd spring-lsp
   cargo build --release
   ```
3. æŸ¥çœ‹ "Output" é¢æ¿çš„é”™è¯¯ä¿¡æ¯

### Q5: ä¿®æ”¹ä»£ç åæ²¡æœ‰ç”Ÿæ•ˆ

**å¯èƒ½åŸå› **:
- æ²¡æœ‰é‡æ–°ç¼–è¯‘
- æ²¡æœ‰é‡å¯è°ƒè¯•ä¼šè¯

**è§£å†³æ–¹æ³•**:
1. ç¡®ä¿ `npm run watch` æ­£åœ¨è¿è¡Œ
2. æˆ–æ‰‹åŠ¨è¿è¡Œ `npm run compile`
3. é‡å¯è°ƒè¯•ä¼šè¯ï¼ˆ`Ctrl+Shift+F5`ï¼‰

### Q6: æ— æ³•æŸ¥çœ‹å˜é‡å€¼

**å¯èƒ½åŸå› **:
- å˜é‡è¢«ä¼˜åŒ–æ‰äº†
- åœ¨é”™è¯¯çš„ä½œç”¨åŸŸä¸­

**è§£å†³æ–¹æ³•**:
1. åœ¨ `tsconfig.json` ä¸­ç¦ç”¨ä¼˜åŒ–ï¼ˆå¼€å‘æ—¶ï¼‰ï¼š
   ```json
   {
     "compilerOptions": {
       "target": "ES2020",
       "module": "commonjs"
     }
   }
   ```
2. ä½¿ç”¨ "Debug Console" æ‰‹åŠ¨æŸ¥è¯¢å˜é‡

### Q7: æµ‹è¯•å¤±è´¥

**å¯èƒ½åŸå› **:
- æµ‹è¯•ç¯å¢ƒé…ç½®ä¸æ­£ç¡®
- æµ‹è¯•ä»£ç æœ‰ bug

**è§£å†³æ–¹æ³•**:
1. ä½¿ç”¨ "Extension Tests" é…ç½®è°ƒè¯•æµ‹è¯•
2. åœ¨æµ‹è¯•ä»£ç ä¸­è®¾ç½®æ–­ç‚¹
3. æŸ¥çœ‹æµ‹è¯•è¾“å‡ºå’Œé”™è¯¯ä¿¡æ¯

## è°ƒè¯•å·¥ä½œæµ

### æ—¥å¸¸å¼€å‘æµç¨‹

1. **å¯åŠ¨ç›‘å¬æ¨¡å¼**
   ```bash
   npm run watch
   ```

2. **å¯åŠ¨è°ƒè¯•**
   - æŒ‰ `F5`

3. **ä¿®æ”¹ä»£ç **
   - ç¼–è¾‘ TypeScript æ–‡ä»¶
   - ä¿å­˜ï¼ˆè‡ªåŠ¨ç¼–è¯‘ï¼‰

4. **é‡å¯è°ƒè¯•**
   - æŒ‰ `Ctrl+Shift+F5`
   - æˆ–ç‚¹å‡»è°ƒè¯•å·¥å…·æ çš„é‡å¯æŒ‰é’®

5. **æµ‹è¯•åŠŸèƒ½**
   - åœ¨æ‰©å±•å®¿ä¸»çª—å£ä¸­æµ‹è¯•

6. **æŸ¥çœ‹æ—¥å¿—**
   - æ£€æŸ¥ "Output" é¢æ¿
   - æ£€æŸ¥ "Debug Console"

### ä¿®å¤ Bug æµç¨‹

1. **é‡ç°é—®é¢˜**
   - åœ¨æ‰©å±•å®¿ä¸»çª—å£ä¸­é‡ç° bug

2. **å®šä½ä»£ç **
   - æ ¹æ®é”™è¯¯ä¿¡æ¯æ‰¾åˆ°ç›¸å…³ä»£ç 
   - æˆ–ä½¿ç”¨ "Go to Symbol" (`Ctrl+Shift+O`)

3. **è®¾ç½®æ–­ç‚¹**
   - åœ¨å¯èƒ½å‡ºé—®é¢˜çš„åœ°æ–¹è®¾ç½®æ–­ç‚¹

4. **é‡æ–°è§¦å‘**
   - é‡å¯è°ƒè¯•å¹¶é‡ç°é—®é¢˜

5. **åˆ†æåŸå› **
   - æŸ¥çœ‹å˜é‡å€¼
   - å•æ­¥æ‰§è¡Œä»£ç 
   - æ£€æŸ¥è°ƒç”¨æ ˆ

6. **ä¿®å¤ä»£ç **
   - ä¿®æ”¹ä»£ç 
   - ä¿å­˜å¹¶é‡å¯è°ƒè¯•

7. **éªŒè¯ä¿®å¤**
   - ç¡®è®¤é—®é¢˜å·²è§£å†³
   - è¿è¡Œç›¸å…³æµ‹è¯•

### æ·»åŠ æ–°åŠŸèƒ½æµç¨‹

1. **ç¼–å†™ä»£ç **
   - å®ç°æ–°åŠŸèƒ½

2. **æ·»åŠ æ—¥å¿—**
   - åœ¨å…³é”®ä½ç½®æ·»åŠ  `console.log()`

3. **æµ‹è¯•åŠŸèƒ½**
   - å¯åŠ¨è°ƒè¯•å¹¶æµ‹è¯•

4. **è°ƒè¯•é—®é¢˜**
   - å¦‚æœæœ‰é—®é¢˜ï¼Œè®¾ç½®æ–­ç‚¹è°ƒè¯•

5. **ç¼–å†™æµ‹è¯•**
   - åœ¨ `test/suite/` ä¸­æ·»åŠ æµ‹è¯•

6. **è¿è¡Œæµ‹è¯•**
   - ä½¿ç”¨ "Extension Tests" é…ç½®

7. **æ¸…ç†æ—¥å¿—**
   - ç§»é™¤æˆ–æ³¨é‡Šæ‰è°ƒè¯•æ—¥å¿—

## æ€§èƒ½åˆ†æ

### ä½¿ç”¨ Chrome DevTools

1. åœ¨æ‰©å±•å®¿ä¸»çª—å£ä¸­æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼š
   - "Help" -> "Toggle Developer Tools"

2. åˆ‡æ¢åˆ° "Performance" æ ‡ç­¾

3. ç‚¹å‡» "Record" æŒ‰é’®

4. æ‰§è¡Œè¦åˆ†æçš„æ“ä½œ

5. åœæ­¢å½•åˆ¶å¹¶åˆ†æç»“æœ

### ä½¿ç”¨ VSCode æ€§èƒ½åˆ†æå™¨

1. æ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆ`Ctrl+Shift+P`ï¼‰

2. æ‰§è¡Œï¼š
   ```
   Developer: Show Running Extensions
   ```

3. æŸ¥çœ‹æ‰©å±•çš„æ€§èƒ½æŒ‡æ ‡ï¼š
   - æ¿€æ´»æ—¶é—´
   - CPU ä½¿ç”¨ç‡
   - å†…å­˜ä½¿ç”¨é‡

## ç›¸å…³èµ„æº

- [VSCode Extension API](https://code.visualstudio.com/api)
- [VSCode Extension Samples](https://github.com/microsoft/vscode-extension-samples)
- [Debugging Extensions](https://code.visualstudio.com/api/working-with-extensions/testing-extension)
- [Language Server Protocol](https://microsoft.github.io/language-server-protocol/)

## æ€»ç»“

è°ƒè¯• VSCode æ‰©å±•çš„å…³é”®ç‚¹ï¼š

1. âœ… ä½¿ç”¨ `npm run watch` è‡ªåŠ¨ç¼–è¯‘
2. âœ… ä½¿ç”¨ F5 å¿«é€Ÿå¯åŠ¨è°ƒè¯•
3. âœ… å–„ç”¨æ–­ç‚¹å’Œæ—¥å¿—
4. âœ… ä½¿ç”¨ Debug Console æŸ¥è¯¢å˜é‡
5. âœ… ä½¿ç”¨ Output Channel è¾“å‡ºæ—¥å¿—
6. âœ… ä½¿ç”¨ Chrome DevTools åˆ†ææ€§èƒ½
7. âœ… ç¼–å†™æµ‹è¯•å¹¶ä½¿ç”¨æµ‹è¯•é…ç½®è°ƒè¯•

ç¥è°ƒè¯•é¡ºåˆ©ï¼ğŸ‰
